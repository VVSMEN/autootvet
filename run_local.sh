#!/bin/bash

echo "üöÄ –ó–∞–ø—É—Å–∫ AutoOtvet –ª–æ–∫–∞–ª—å–Ω–æ..."

# Check if virtual environment exists
if [ ! -d "venv" ]; then
    echo "üì¶ –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è..."
    python3 -m venv venv
fi

# Activate virtual environment
source venv/bin/activate

# Install backend dependencies
echo "üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π backend..."
pip install -r backend/requirements.txt > /dev/null 2>&1

# Install frontend dependencies
echo "üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π frontend..."
pip install -r frontend/requirements.txt > /dev/null 2>&1

# Create data directory
mkdir -p data/logs

echo ""
echo "‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É!"
echo ""
echo "–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö:"
echo "  1. Backend:  cd backend && python main.py"
echo "  2. Frontend: streamlit run frontend/streamlit_app.py"
echo ""
